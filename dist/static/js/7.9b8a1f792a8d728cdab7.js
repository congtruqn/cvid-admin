webpackJsonp([7,31,32],{T5fo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"panel-body_modal"},[a("button",{staticClass:"ngdialog-close",attrs:{"aria-label":"Dismiss"},on:{click:function(e){return t.close()}}})]),t._v(" "),a("div",{staticClass:"panel-body_modal"},[a("button",{staticClass:"btn btn-primary m-r-5 m-b-5",on:{click:t.handleSubmit}},[t._v("\n            Lưu\n          ")])])])])])])},staticRenderFns:[]},s=a("VU/8")({name:"AddJobTitle",data:function(){return{abc:"vxc"}},methods:{close:function(){this.$emit("close")},handleSubmit:function(t){t.preventDefault()}},mounted:function(){}},i,!1,null,null,null);e.default=s.exports},f06U:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("T5fo"),s=a("stjC"),n=a("bzuE").BASE_URL,l={data:function(){return{filter:null,isModalVisible:!1,isModalEditVisible:!1,items:[],totalRows:1,perPage:20,pageOptions:[10,20,50,100],currentPage:Number(this.$route.query.page)||1,itemid:"",fields:[{key:"index",label:"STT"},{key:"name",label:"Chức danh công việc",sortable:!0},{key:"actions",label:"Thao tác",sortable:!1}]}},components:{AddItem:i.default,EditItem:s.default},computed:{},methods:{showModal:function(){this.isModalVisible=!0},showEditModal:function(t){this.itemid=t,this.isModalEditVisible=!0},closeModal:function(){this.isModalVisible=!1},closeEditModal:function(){this.isModalEditVisible=!1},clickCallback:function(t){this.currentPage=t},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},updateMessage:function(t){this.items=t},deleteItem:function(t,e){var a=this;this.$confirm({message:"Bạn có muốn xóa "+e,button:{yes:"Đồng ý"},callback:function(e){e&&a.$http.post("jobtitle/delete",{id:t},{headers:{Authorization:"Basic "+localStorage.getItem("token")}}).then(function(t){a.$http.get(n+"/jobtitle/getall",{headers:{Authorization:"Basic "+localStorage.getItem("token")}}).then(function(t){a.items=t.data,a.totalRows=a.items.length})}).catch(function(t){console.error(t.response)})}})}},created:function(){var t=this;this.$http.get(n+"/jobtitle/getall",{headers:{Authorization:"Basic "+localStorage.getItem("token")}}).then(function(e){t.items=e.data,t.totalRows=t.items.length,void 0===t.$route.query.page&&(t.currentPage=1)})}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("section",{staticClass:"panel panel-inverse"},[a("div",{staticClass:"row"},[a("div",{staticClass:"panel-body"},[a("b-form",{attrs:{inline:""},on:{submit:function(t){t.preventDefault()}}},[a("b-form-select",{staticClass:"form-control",attrs:{options:t.pageOptions},on:{input:function(e){return t.clickCallback(1)}},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}}),t._v(" "),a("b-button",{staticStyle:{float:"right"},attrs:{variant:"primary"},on:{click:t.showModal}},[t._v("Thêm chức danh công việc")]),t._v(" "),a("b-input-group",{staticClass:"m-r-5",staticStyle:{float:"right"},attrs:{size:"sm"}},[a("b-form-input",{attrs:{type:"search",placeholder:"Search terms"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})],1)],1)],1),t._v(" "),a("b-table",{attrs:{striped:"",bordered:"",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter},on:{filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n          "+t._s(e.index+1)+"\n        ")]}},{key:"cell(actions)",fn:function(e){var i=e.item;return[a("b-icon",{staticStyle:{margin:"auto"},attrs:{icon:"pen",variant:"primary"},on:{click:function(e){return t.showEditModal(i)}}}),t._v(" "),a("b-icon",{staticStyle:{margin:"auto"},attrs:{icon:"trash",variant:"danger"},on:{click:function(e){return t.deleteItem(i._id,i.name)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"dataTables_paginate paging_simple_numbers",attrs:{id:"example2_paginate"}},[a("paginate",{attrs:{"page-count":Math.ceil(t.totalRows/t.perPage),"page-range":3,"margin-pages":2,"click-handler":t.clickCallback,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"page-item"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t._v(" "),a("AddItem",{directives:[{name:"show",rawName:"v-show",value:t.isModalVisible,expression:"isModalVisible"}],on:{inputData:t.updateMessage,close:t.closeModal}}),t._v(" "),a("EditItem",{directives:[{name:"show",rawName:"v-show",value:t.isModalEditVisible,expression:"isModalEditVisible"}],attrs:{itemid:t.itemid},on:{close:t.closeEditModal}})],1),t._v(" "),a("vue-confirm-dialog")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"content-header"},[e("h1",[this._v("Quản lý chức danh công việc")]),this._v(" "),e("ol",{staticClass:"breadcrumb"},[e("li",[e("a",[e("i",{staticClass:"fa fa-dashboard"}),this._v("Trang chủ")])]),this._v(" "),e("li",[e("a",[this._v("Danh sách chức danh công việc")])])])])}]},r=a("VU/8")(l,o,!1,null,null,null);e.default=r.exports},stjC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper"},[a("div",{staticClass:"modal-container"},[a("div",[a("div",{staticClass:"panel-body_modal"},[a("button",{staticClass:"ngdialog-close",attrs:{"aria-label":"Dismiss"},on:{click:function(e){return t.$emit("close")}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-sm-3 control-label"},[t._v("Họ và Tên")]),t._v(" "),a("div",{staticClass:"col-sm-9"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.itemid.name,expression:"itemid.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.itemid.name},on:{input:function(e){e.target.composing||t.$set(t.itemid,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"panel-body_modal"},[a("button",{staticClass:"btn btn-primary m-r-5 m-b-5",on:{click:t.handleSubmit}},[t._v("Lưu")])])])])])])])])},staticRenderFns:[]},s=a("VU/8")({name:"EditItem",data:function(){return{}},methods:{handleSubmit:function(){}},props:["itemid"]},i,!1,null,null,null);e.default=s.exports}});
//# sourceMappingURL=7.9b8a1f792a8d728cdab7.js.map