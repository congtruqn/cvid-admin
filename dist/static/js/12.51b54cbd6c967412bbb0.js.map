{"version":3,"sources":["webpack:///src/components/toquote/choisesupplier.vue","webpack:///./src/components/toquote/choisesupplier.vue?08b3","webpack:///./src/components/toquote/choisesupplier.vue"],"names":["choisesupplier","data","isModalVisible","isModalEditVisible","isModalProducttypeVisible","listproducts","countinvoicetype","page","Number","this","$route","query","editid","projects","supplier_name","json_fields","Tên sản phẩm","Nhà cung cấp","Đơn vị tính","Số lượng","json_data","json_meta","key","value","components","addtoquote","edittoquote","addproducttype","methods","todate","item","lib_default","a","timestamptodate","showModal","showisModalProducttype","id","console","log","closeModal","closeEditModal","closeProductTypeModal","saveSupplierQuote","$http","post","toquotedetails","headers","Authorization","localStorage","getItem","then","response","alert","window","location","href","toquote","catch","error","updateMessage","variable","listinvoicetypes","mounted","_this","get","supplier_id","x","temp","name","supplier","unit","num","y","suppliers","supplier_price","profit_margin","push","toquote_choisesupplier","render","_vm","_h","$createElement","_c","_self","_m","_v","staticClass","on","click","_l","invoicetype","index","_s","suppli","directives","rawName","expression","attrs","type","domProps","_id","checked","_q","choise","change","$event","$set","_e","staticRenderFns","width","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/12.51b54cbd6c967412bbb0.js","sourcesContent":["<template>\n  <div>\n    <section class=\"content-header\">\n      <h1>Quản lý báo giá</h1>\n      <ol class=\"breadcrumb\">\n        <li>\n          <a><i class=\"fa fa-dashboard\"></i>Trang chủ</a>\n        </li>\n        <li><a>Chọn nhà cung cấp</a></li>\n      </ol>\n    </section>\n    <section class=\"panel panel-inverse\">\n      <div class=\"row\">\n        <div class=\"panel-body\">\n          <button\n            class=\"btn btn-primary m-r-5 m-b-5\"\n            @click=\"saveSupplierQuote\"\n          >\n            Lưu\n          </button>\n        </div>\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th width=\"25px\">STT</th>\n              <th>Diễn giải</th>\n              <th>Đơn vị tính</th>\n              <th>Số lượng</th>\n              <th>Chọn nhà cung cấp</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(invoicetype, index) in listproducts\" :key=\"index\">\n              <td>{{ index + 1 }}</td>\n              <td>\n                {{listproducts[index].name}}\n              </td>\n              <td>{{listproducts[index].unit}}</td>\n              <td>{{listproducts[index].num}}</td>\n              \n              <td>\n                <ul>\n                  <li v-for=\"suppli in listproducts[index].suppliers\" class=\"choise_supplier\" v-if=\"suppli.supplier_price\">\n                    <p><input type=\"radio\" id=\"suppli._id\" :value=\"suppli._id\" v-model=\"listproducts[index].choise\"></p>\n                    <p>{{suppli.supplier_name}}</p>\n                    <p> - Đơn giá: {{suppli.supplier_price}}</p>\n                  </li>\n                </ul>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </section>\n    <vue-confirm-dialog></vue-confirm-dialog>\n  </div>\n</template>\n<script>\nimport addtoquote from \"@/components/toquote/addtoquote\";\nimport edittoquote from \"@/components/toquote/edittoquote\";\nimport addproducttype from \"@/components/toquote/addproducttype\";\nimport lib from \"@/plugins/lib.js\";\nexport default {\n  data() {\n    return {\n      isModalVisible: false,\n      isModalEditVisible: false,\n      isModalProducttypeVisible: false,\n      listproducts: \"\",\n      countinvoicetype: \"\",\n      page: Number(this.$route.query.page),\n      editid: \"\",\n      projects: \"\",\n      supplier_name: \"\",\n      json_fields: {\n        \"Tên sản phẩm\": \"name\",\n        \"Nhà cung cấp\": \"supplier\",\n        \"Đơn vị tính\": \"unit\",\n        \"Số lượng\": \"num\"\n      },\n      json_data: [],\n      json_meta: [\n        [\n          {\n            key: \"charset\",\n            value: \"utf-8\"\n          }\n        ]\n      ]\n    };\n  },\n  components: {\n    addtoquote,\n    edittoquote,\n    addproducttype\n  },\n  methods: {\n    todate: function(item) {\n      return lib.timestamptodate(item);\n    },\n    showModal() {\n      this.isModalVisible = true;\n    },\n    showisModalProducttype(id) {\n      console.log(id);\n      this.editid = id;\n      this.isModalProducttypeVisible = true;\n    },\n    closeModal() {\n      this.isModalVisible = false;\n    },\n    closeEditModal() {\n      this.isModalEditVisible = false;\n    },\n    closeProductTypeModal() {\n      this.isModalProducttypeVisible = false;\n    },\n    saveSupplierQuote() {\n      this.$http\n        .post(\n          \"api/toquotedetails/savechoisesupplier\",\n          {\n            toquotedetails:this.listproducts\n          },\n          {\n            headers: { Authorization: `Basic ${localStorage.getItem(\"token\")}` }\n          }\n        )\n        .then(response => {\n          alert('Lưu thành công')\n          window.location.href = '/toquote'\n          toquote\n        })\n        .catch(function(error) {\n          console.error(error.response);\n        });\n    },\n    updateMessage(variable) {\n      this.listinvoicetypes = variable;\n    }\n  },\n  mounted() {\n    this.$http\n      .get(\n        \"api/suppliers/getsuppliertypebyid?id=\" + this.$route.query.supplier_id,\n        { headers: { Authorization: `Basic ${localStorage.getItem(\"token\")}` } }\n      )\n      .then(response => {\n        this.supplier_name = response.data.supplier_name;\n        this.$http\n          .get(\n            \"api/toquotedetails/getalltoquotedetails?id=\" +\n              this.$route.query.id,\n            {\n              headers: {\n                Authorization: `Basic ${localStorage.getItem(\"token\")}`\n              }\n            }\n          )\n          .then(response => {\n            for (var x in response.data) {\n              var temp = {\n                name: response.data[x].name,\n                supplier: this.supplier_name,\n                unit: response.data[x].unit,\n                num: response.data[x].num\n              };\n              for(var y in response.data[x].suppliers) {\n                if(response.data[x].suppliers[y].supplier_id==this.$route.query.supplier_id){\n\n                  temp.supplier_price = response.data[x].suppliers[y].supplier_price;\n                  temp.profit_margin = response.data[x].suppliers[y].profit_margin;\n                }\n              }\n              this.json_data.push(temp);\n            }\n            this.listproducts = response.data;\n          });\n      });\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/toquote/choisesupplier.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('section',{staticClass:\"panel panel-inverse\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"panel-body\"},[_c('button',{staticClass:\"btn btn-primary m-r-5 m-b-5\",on:{\"click\":_vm.saveSupplierQuote}},[_vm._v(\"\\n          Lưu\\n        \")])]),_vm._v(\" \"),_c('table',{staticClass:\"table\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.listproducts),function(invoicetype,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index + 1))]),_vm._v(\" \"),_c('td',[_vm._v(\"\\n              \"+_vm._s(_vm.listproducts[index].name)+\"\\n            \")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.listproducts[index].unit))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.listproducts[index].num))]),_vm._v(\" \"),_c('td',[_c('ul',_vm._l((_vm.listproducts[index].suppliers),function(suppli){return (suppli.supplier_price)?_c('li',{staticClass:\"choise_supplier\"},[_c('p',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.listproducts[index].choise),expression:\"listproducts[index].choise\"}],attrs:{\"type\":\"radio\",\"id\":\"suppli._id\"},domProps:{\"value\":suppli._id,\"checked\":_vm._q(_vm.listproducts[index].choise,suppli._id)},on:{\"change\":function($event){return _vm.$set(_vm.listproducts[index], \"choise\", suppli._id)}}})]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(suppli.supplier_name))]),_vm._v(\" \"),_c('p',[_vm._v(\" - Đơn giá: \"+_vm._s(suppli.supplier_price))])]):_vm._e()}),0)])])}),0)])])]),_vm._v(\" \"),_c('vue-confirm-dialog')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content-header\"},[_c('h1',[_vm._v(\"Quản lý báo giá\")]),_vm._v(\" \"),_c('ol',{staticClass:\"breadcrumb\"},[_c('li',[_c('a',[_c('i',{staticClass:\"fa fa-dashboard\"}),_vm._v(\"Trang chủ\")])]),_vm._v(\" \"),_c('li',[_c('a',[_vm._v(\"Chọn nhà cung cấp\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"25px\"}},[_vm._v(\"STT\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Diễn giải\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Đơn vị tính\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Số lượng\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Chọn nhà cung cấp\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0e70b571\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/toquote/choisesupplier.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./choisesupplier.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./choisesupplier.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0e70b571\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./choisesupplier.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/toquote/choisesupplier.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}