{"version":3,"sources":["webpack:///src/components/toquote/toquotefromsupplier.vue","webpack:///./src/components/toquote/toquotefromsupplier.vue?d4c3","webpack:///./src/components/toquote/toquotefromsupplier.vue"],"names":["toquotefromsupplier","data","isModalVisible","isModalEditVisible","isModalProducttypeVisible","listproducts","countinvoicetype","page","Number","this","$route","query","editid","supplierid","suppliername","projects","supplier_name","json_fields","Tên sản phẩm","Nhà cung cấp","Đơn vị tính","Số lượng","json_data","json_meta","key","value","components","addbrand","methods","todate","item","lib_default","a","timestamptodate","addBrand","supplier_id","showisModalProducttype","id","console","log","closeModal","closeEditModal","closeProductTypeModal","saveSupplierQuote","_this","$http","post","toquotes","headers","Authorization","localStorage","getItem","then","response","confirm","window","location","href","toquote_id","catch","error","updateMessage","variable","listinvoicetypes","mounted","_this2","get","x","temp","_id","name","supplier","unit","num","y","suppliers","supplier_price","push","toquote_toquotefromsupplier","render","_vm","_h","$createElement","_c","_self","_m","_v","staticClass","on","click","attrs","fields","worksheet","_l","invoicetype","index","_s","directives","rawName","expression","placeholder","type","domProps","input","$event","target","composing","$set","inputData","close","_e","staticRenderFns","width","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/6.287fa17b48be499bffa1.js","sourcesContent":["<template>\n  <div>\n    <section class=\"content-header\">\n      <h1>Quản lý báo giá</h1>\n      <ol class=\"breadcrumb\">\n        <li>\n          <a><i class=\"fa fa-dashboard\"></i>Trang chủ</a>\n        </li>\n        <li><a>Yêu cầu báo giá cho nhà cung cấp</a></li>\n      </ol>\n    </section>\n    <section class=\"panel panel-inverse\">\n      <div class=\"row\">\n        <div class=\"panel-body\">\n          <button\n            class=\"btn btn-primary m-r-5 m-b-5\"\n            @click=\"saveSupplierQuote\"\n          >\n            Import báo giá\n          </button>\n          <button\n            class=\"btn btn-primary m-r-5 m-b-5\"\n            @click=\"saveSupplierQuote\"\n          >\n            Lưu báo giá\n          </button>\n          <export-excel\n            class=\"btn btn-default\"\n            :data=\"json_data\"\n            :fields=\"json_fields\"\n            worksheet=\"My Worksheet\"\n            name=\"supplierquote.xls\"\n          >\n            Download Excel\n          </export-excel>\n        </div>\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th width=\"25px\">STT</th>\n              <th>Diễn giải</th>\n              <th>NCC</th>\n              <th>Đơn vị tính</th>\n              <th>Số lượng</th>\n              <th>Đơn giá</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(invoicetype, index) in listproducts\" :key=\"index\">\n              <td>{{ index + 1 }}</td>\n              <td><p class=\"item_list_1\">{{listproducts[index].name}}</p></td>\n              <td><p class=\"item_list_1\">{{listproducts[index].supplier_name}}</p></td>\n              <td><p class=\"item_list_1\">{{listproducts[index].unit}}</p></td>\n              <td><p class=\"item_list_1\">{{listproducts[index].num}}</p></td>\n              <td>\n                <input\n                  class=\"form-control\"\n                  placeholder=\"Đơn giá\"\n                  v-model=\"listproducts[index].supplier_price\"\n                  type=\"number\"\n                />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <addbrand @inputData=\"updateMessage\"\n        v-if=\"supplierid&&suppliername\"\n        v-show=\"isModalVisible\"\n        @close=\"closeModal\"\n        :supplierid=\"supplierid\"\n        :suppliername=\"suppliername\"\n      />\n    </section>\n    <vue-confirm-dialog></vue-confirm-dialog>\n  </div>\n</template>\n<script>\nimport addbrand from \"@/components/brands/addbrand\";\nimport lib from \"@/plugins/lib.js\";\nexport default {\n  data() {\n    return {\n      isModalVisible: false,\n      isModalEditVisible: false,\n      isModalProducttypeVisible: false,\n      listproducts: \"\",\n      countinvoicetype: \"\",\n      page: Number(this.$route.query.page),\n      editid: \"\",\n      supplierid:\"\",\n      suppliername:\"\",\n      projects: \"\",\n      supplier_name: \"\",\n      json_fields: {\n        \"Tên sản phẩm\": \"name\",\n        \"Nhà cung cấp\": \"supplier\",\n        \"Đơn vị tính\": \"unit\",\n        \"Số lượng\": \"num\"\n      },\n      json_data: [],\n      json_meta: [\n        [\n          {\n            key: \"charset\",\n            value: \"utf-8\"\n          }\n        ]\n      ]\n    };\n  },\n  components: {\n    addbrand,\n  },\n  methods: {\n    todate: function(item) {\n      return lib.timestamptodate(item);\n    },\n    addBrand() {\n      this.supplierid = this.$route.query.supplier_id;\n      this.suppliername = this.supplier_name;\n      this.isModalVisible = true;\n    },\n    showisModalProducttype(id) {\n      console.log(id);\n      this.editid = id;\n      this.isModalProducttypeVisible = true;\n    },\n    closeModal() {\n      this.isModalVisible = false;\n    },\n    closeEditModal() {\n      this.isModalEditVisible = false;\n    },\n    closeProductTypeModal() {\n      this.isModalProducttypeVisible = false;\n    },\n    saveSupplierQuote() {\n      this.$http\n        .post(\n          \"api/toquotedetails/savesupplierquote\",\n          {\n            supplier_id:this.$route.query.supplier_id,\n            supplier_name:this.supplier_name,\n            toquotes:this.listproducts\n          },\n          {\n            headers: { Authorization: `Basic ${localStorage.getItem(\"token\")}` }\n          }\n        )\n        .then(response => {\n            if (confirm(\"Lưu thành công, quay về trang trước!\")) {\n              window.location.href = '/suppliertoquotedetail?id='+this.$route.query.toquote_id\n            } else {\n              \n            }\n        })\n        .catch(function(error) {\n          console.error(error.response);\n        });\n    },\n    updateMessage(variable) {\n      this.listinvoicetypes = variable;\n    }\n  },\n  mounted() {\n    this.$http\n      .get(\n        \"api/suppliers/getsuppliertypebyid?id=\" + this.$route.query.supplier_id,\n        { headers: { Authorization: `Basic ${localStorage.getItem(\"token\")}` } }\n      )\n      .then(response => {\n        this.supplier_name = response.data.supplier_name;\n        this.$http\n          .get(\n            \"api/toquotedetails/gettoquotefromsupplier?supplier_id=\" +\n              this.$route.query.supplier_id +\n              \"&toquote_id=\" +\n              this.$route.query.toquote_id,\n            {\n              headers: {\n                Authorization: `Basic ${localStorage.getItem(\"token\")}`\n              }\n            }\n          )\n          .then(response => {\n            for (var x in response.data) {\n              var temp = {\n                id: response.data[x]._id,\n                name: response.data[x].name,\n                supplier: this.supplier_name,\n                unit: response.data[x].unit,\n                num: response.data[x].num\n              };\n              for(var y in response.data[x].suppliers) {\n                if(response.data[x].suppliers[y].supplier_id==this.$route.query.supplier_id){\n                  temp.supplier_price = response.data[x].suppliers[y].supplier_price;\n                }\n              }\n              this.json_data.push(temp);\n            }\n            this.listproducts = this.json_data;\n          });\n      });\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/toquote/toquotefromsupplier.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('section',{staticClass:\"panel panel-inverse\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"panel-body\"},[_c('button',{staticClass:\"btn btn-primary m-r-5 m-b-5\",on:{\"click\":_vm.saveSupplierQuote}},[_vm._v(\"\\n          Import báo giá\\n        \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary m-r-5 m-b-5\",on:{\"click\":_vm.saveSupplierQuote}},[_vm._v(\"\\n          Lưu báo giá\\n        \")]),_vm._v(\" \"),_c('export-excel',{staticClass:\"btn btn-default\",attrs:{\"data\":_vm.json_data,\"fields\":_vm.json_fields,\"worksheet\":\"My Worksheet\",\"name\":\"supplierquote.xls\"}},[_vm._v(\"\\n          Download Excel\\n        \")])],1),_vm._v(\" \"),_c('table',{staticClass:\"table\"},[_vm._m(1),_vm._v(\" \"),_c('tbody',_vm._l((_vm.listproducts),function(invoicetype,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index + 1))]),_vm._v(\" \"),_c('td',[_c('p',{staticClass:\"item_list_1\"},[_vm._v(_vm._s(_vm.listproducts[index].name))])]),_vm._v(\" \"),_c('td',[_c('p',{staticClass:\"item_list_1\"},[_vm._v(_vm._s(_vm.listproducts[index].supplier_name))])]),_vm._v(\" \"),_c('td',[_c('p',{staticClass:\"item_list_1\"},[_vm._v(_vm._s(_vm.listproducts[index].unit))])]),_vm._v(\" \"),_c('td',[_c('p',{staticClass:\"item_list_1\"},[_vm._v(_vm._s(_vm.listproducts[index].num))])]),_vm._v(\" \"),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.listproducts[index].supplier_price),expression:\"listproducts[index].supplier_price\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Đơn giá\",\"type\":\"number\"},domProps:{\"value\":(_vm.listproducts[index].supplier_price)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.listproducts[index], \"supplier_price\", $event.target.value)}}})])])}),0)])]),_vm._v(\" \"),(_vm.supplierid&&_vm.suppliername)?_c('addbrand',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isModalVisible),expression:\"isModalVisible\"}],attrs:{\"supplierid\":_vm.supplierid,\"suppliername\":_vm.suppliername},on:{\"inputData\":_vm.updateMessage,\"close\":_vm.closeModal}}):_vm._e()],1),_vm._v(\" \"),_c('vue-confirm-dialog')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"content-header\"},[_c('h1',[_vm._v(\"Quản lý báo giá\")]),_vm._v(\" \"),_c('ol',{staticClass:\"breadcrumb\"},[_c('li',[_c('a',[_c('i',{staticClass:\"fa fa-dashboard\"}),_vm._v(\"Trang chủ\")])]),_vm._v(\" \"),_c('li',[_c('a',[_vm._v(\"Yêu cầu báo giá cho nhà cung cấp\")])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{attrs:{\"width\":\"25px\"}},[_vm._v(\"STT\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Diễn giải\")]),_vm._v(\" \"),_c('th',[_vm._v(\"NCC\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Đơn vị tính\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Số lượng\")]),_vm._v(\" \"),_c('th',[_vm._v(\"Đơn giá\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9b33be4e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/toquote/toquotefromsupplier.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./toquotefromsupplier.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./toquotefromsupplier.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9b33be4e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./toquotefromsupplier.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/toquote/toquotefromsupplier.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}