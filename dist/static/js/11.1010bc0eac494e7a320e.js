webpackJsonp([11],{"9uE4":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("X08x"),a=i("J7vS"),s=i("MWS/"),n=i("XW0x"),c=i.n(n),l={data:function(){return{isModalVisible:!1,isModalEditVisible:!1,isModalProducttypeVisible:!1,listinvoicetypes:"",countinvoicetype:"",page:Number(this.$route.query.page),editid:"",projects:"",toquote_id:""}},components:{addtoquote:o.default,edittoquote:a.default,addproducttype:s.default},methods:{todate:function(t){return c.a.timestamptodate(t)},showModal:function(){this.isModalVisible=!0},showisModalEditVisible:function(t){var e={project_name:t.project_name,project_id:t.project_id,toquote_type:t.toquote_type};this.editid=t,this.projects=e,this.isModalEditVisible=!0},showisModalProducttype:function(t){console.log(t),this.editid=t,this.isModalProducttypeVisible=!0},closeModal:function(){this.isModalVisible=!1},closeEditModal:function(){this.isModalEditVisible=!1},closeProductTypeModal:function(){this.isModalProducttypeVisible=!1},clickCallback:function(t){var e=this;this.$http.get("api/toquote/getalltoquotes?page="+t,{headers:{Authorization:"Basic "+localStorage.getItem("token")}}).then(function(t){return e.listinvoicetypes=t.data})},updateMessage:function(t){this.listinvoicetypes=t},dellInvoiceType:function(t,e){var i=this;this.$confirm({message:"Bạn có muốn xóa loại hóa đơn "+e,button:{yes:"Đồng ý"},callback:function(e){e&&i.$http.post("api/toquote/delltoquote",{id:t},{headers:{Authorization:"Basic "+localStorage.getItem("token")}}).then(function(t){i.$http.get("api/toquote/getalltoquotes?page="+i.$route.query.page,{headers:{Authorization:"Basic "+localStorage.getItem("token")}}).then(function(t){return i.listinvoicetypes=t.data}),i.$http.get("api/toquote/getcounttoquote",{headers:{Authorization:"Basic "+localStorage.getItem("token")}}).then(function(t){return i.countinvoicetype=t.data})}).catch(function(t){console.error(t.response)})}})}},mounted:function(){var t=this;console.log("a"),this.toquote_id=this.$route.query.id,this.$http.get("api/toquotedetails/getsupplierbytoquote?id="+this.$route.query.id,{headers:{Authorization:"Basic "+localStorage.getItem("token")}}).then(function(e){return t.listinvoicetypes=e.data})}},r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),t._v(" "),i("section",{staticClass:"panel panel-inverse"},[i("div",{staticClass:"row"},[i("div",{staticClass:"panel-body"},[i("button",{staticClass:"btn btn-primary m-r-5 m-b-5",on:{click:t.showModal}},[t._v("Yêu cầu báo giá cho nhà cung cấp")])]),t._v(" "),i("table",{staticClass:"table"},[t._m(1),t._v(" "),i("tbody",t._l(t.listinvoicetypes,function(e,o){return i("tr",{key:o},[i("td",[t._v(t._s(o+1))]),t._v(" "),i("td",[i("a",{attrs:{href:"/toquotedetail?id="+e._id}},[t._v(t._s(e.supplier_name))])]),t._v(" "),i("td",[i("a",{attrs:{href:"/toquotefromsupplier?supplier_id="+e._id+"&toquote_id="+t.toquote_id}},[t._v("Nhập báo giá từ NCC")])]),t._v(" "),i("td",[i("span",[i("a",{attrs:{href:"#"},on:{click:function(i){return t.showisModalEditVisible(e)}}},[i("i",{staticClass:"fa fa-edit"})])])]),t._v(" "),i("td",[i("a",{attrs:{href:"#"},on:{click:function(i){return t.dellInvoiceType(e._id,e.toquote_name)}}},[i("i",{staticClass:"fa fa-trash"})])])])}),0)])]),t._v(" "),i("div",{staticClass:"dataTables_paginate paging_simple_numbers",attrs:{id:"example2_paginate"}},[i("paginate",{attrs:{"page-count":t.countinvoicetype/20,"page-range":3,"margin-pages":2,"click-handler":t.clickCallback,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"page-item"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)]),t._v(" "),i("vue-confirm-dialog")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"content-header"},[e("h1",[this._v("Quản lý báo giá")]),this._v(" "),e("ol",{staticClass:"breadcrumb"},[e("li",[e("a",[e("i",{staticClass:"fa fa-dashboard"}),this._v("Trang chủ")])]),this._v(" "),e("li",[e("a",[this._v("Yêu cầu báo giá cho nhà cung cấp")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{width:"25px"}},[this._v("STT")]),this._v(" "),e("th",[this._v("Tên nhà cung cấp")]),this._v(" "),e("th",[this._v("Yêu cầu báo giá cho NCC")]),this._v(" "),e("th",{staticClass:"functionicon",attrs:{width:"15px"}}),this._v(" "),e("th",{staticClass:"functionicon",attrs:{width:"15px"}})])])}]},u=i("VU/8")(l,r,!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=11.1010bc0eac494e7a320e.js.map